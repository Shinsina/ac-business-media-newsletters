import { get } from  "@parameter1/base-cms-object-path";
import moment from "moment";

$ const { website, config } = out.global;
$ const { newsletter, date, dateInfo } = input.data;
$ const newsletterConfig = config.get(newsletter.alias);
$ const displayDate = moment(date).format("MMMM DD, YYYY");

$ const textStyle = {
  "font-family": "'Arial Narrow', Helvetica, sans-serif",
  "font-size": "16px",
  "line-height": "35px",
  "color": "#06060c",
  "font-weight": 700,
  "letter-spacing": "0px",
  "text-decoration": "none",
  "align": "center",
}

$ const poweredByText = {
  ...textStyle,
  "font-size": "14px",
}

<table width="660" align="center" border="0" cellspacing="0" cellpadding="0" bgcolor="#ededee" class="wrap10">
  <tr>
    <td align="center" valign="top">
      <table width="600" align="center" border="0" cellspacing="0" cellpadding="0" class="wrap101">
        <common-table-spacer-element height=48 />
        <tr>
          <td valign="top">
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td align="left" valign="center">
                  <marko-newsletter-imgix
                    src=`${newsletterConfig.headerLogoSrc}`
                    alt="logo"
                    options={ w: 120, h: 25 }
                  >
                    <@link href=website.get("origin") target="_blank" />
                  </marko-newsletter-imgix>
                </td>
                <td align="center" valign="top" style=poweredByText>
                  Powered By:
                </td>
                <td align="center" valign="center">
                  <marko-newsletter-imgix
                    src=`${newsletterConfig.fcpLogoSrc}`
                    alt="logo"
                    options={ w: 120, h: 25 }
                    attrs={ width: 120 }
                  >
                    <@link href=website.get("origin") target="_blank" />
                  </marko-newsletter-imgix>
                </td>
                <td align="right" valign="center">
                  <marko-newsletter-imgix
                    src=`${newsletterConfig.equipmentTodayLogoSrc}`
                    alt="logo"
                    options={ w: 120, h: 25 }
                    attrs={ width: 120 }
                  >
                    <@link href=website.get("origin") target="_blank" />
                  </marko-newsletter-imgix>
                </td>
              </tr>
            </table>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td>
                  <span style="display:none !important;visibility:hidden;mso-hide:all;font-size:1px;color:#ffffff;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden"></span>
                  <!-- // Start Stealth Link // -->
                  <div name="divHrefB" style="display:none;height:0px;width:0px;overflow:hidden;visibility:hidden;mso-hide:all">
                    <a href="http://www.acbusinessmedia.com/Omeda">AC Business Media Info</a>
                  </div>
                  <!-- // End Stealth Link // -->
                </td>
                <td align="left" class="mob_hide" valign="top" style=textStyle>
                  <a href="@{mv_online_version}@" target="_blank" style=textStyle>View Email Online</a>
                </td>
                <td align="right" valign="top" style=textStyle>
                  ${displayDate}
                </td>
              </tr>
            </table>
          </td>
        </tr>
        <common-table-spacer-element height=5 />
      </table>
    </td>
  </tr>
</table>
